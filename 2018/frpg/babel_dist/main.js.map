{"version":3,"sources":["../src/main.js"],"names":["Array","prototype","slice","call","document","querySelectorAll","forEach","sidebarItem","id","addEventListener","article","test","querySelector","innerHTML","marked","trim","body","offsetWidth","el","classList","remove","secondImage","img","Image","onload","style","backgroundImage","src","sendNewPost","titleEl","bodyEl","console","error","value","length","alert","xhr","XMLHttpRequest","onreadystatechange","readyState","log","open","send","JSON","stringify","command","title"],"mappings":"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","sourcesContent":["{\r\n    // 各ページ移動ボタンのクリックイベント\r\n    Array.prototype.slice.call(document.querySelectorAll(\".sidebar-item\"), 0).forEach((sidebarItem) => {\r\n        const id = sidebarItem.id;\r\n        sidebarItem.addEventListener(\"click\", () => {\r\n            if (typeof article[id] !== \"string\") {\r\n                return;\r\n            }\r\n            if (/^\\s*$/.test(article[id])) {\r\n                document.querySelector(\"#article\").innerHTML = \"\";\r\n            } else {\r\n                document.querySelector(\"#article\").innerHTML =\r\n                    \"<div class=\\\"card card-preload scale-when-hover markdown-body\\\">\" +\r\n                    marked(article[id].trim()) + \"</div>\";\r\n                document.body.offsetWidth;  // 強制的にレンダリング\r\n                // IE対応のためのslice.call\r\n                Array.prototype.slice.call(document.querySelectorAll(\".card-preload\"), 0).forEach((el) => {\r\n                    el.classList.remove(\"card-preload\");\r\n                });\r\n            }\r\n        });\r\n    })\r\n\r\n    // 背景読み込み\r\n    const secondImage = \"./img/second_background_anime.gif\";\r\n    const img = new Image();\r\n    img.onload = () => {\r\n        document.querySelector(\"#content\").style.backgroundImage = `url(${secondImage})`;\r\n    };\r\n    img.src = secondImage;\r\n}\r\n\r\nconst sendNewPost = () => {\r\n    const titleEl = document.querySelector(\"#title_text\");\r\n    const bodyEl = document.querySelector(\"#body_text\");\r\n    if (!titleEl || !bodyEl) {\r\n        console.error(\"!titleEl || !bodyEl\");\r\n        return;\r\n    }\r\n    if (!titleEl.value.length) {\r\n        return;\r\n    }\r\n    if (titleEl.value.length > 100) {\r\n        alert(\"名前が長すぎます。100文字以下でお願いします。\");\r\n        return;\r\n    }\r\n    if (!bodyEl.value.length) {\r\n        return;\r\n    }\r\n    if (bodyEl.value.length > 1000) {\r\n        alert(\"本文が長すぎます。1000文字以下でお願いします。\");\r\n        return;\r\n    }\r\n\r\n    const xhr = new XMLHttpRequest();\r\n    xhr.onreadystatechange = () => {\r\n        if (xhr.readyState === 4) {\r\n            console.log(xhr);\r\n            alert(\"送信しました！\");\r\n        }\r\n    };\r\n    xhr.open(\"POST\",\"https://script.google.com/macros/s/AKfycbwsixvFco58E15FhMJEif81z68X8F5ZLrCu1hykKVblh8Eey8o/exec\");\r\n    xhr.send(JSON.stringify({\r\n        command: \"new\",\r\n        title: titleEl.value,\r\n        body: bodyEl.value\r\n    }));\r\n    titleEl.value = \"\";\r\n    bodyEl.value = \"\";\r\n\r\n};\r\n"],"file":"main.js"}